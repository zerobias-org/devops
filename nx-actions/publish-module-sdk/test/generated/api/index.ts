/* eslint-disable */
// ===============================================
// This file is autogenerated - Please do not edit
// ===============================================
import { AuditApi, AuditApiMappingImpl, AuditProducerApi, AuditApiHttpImpl, wrapAuditProducer } from './AuditApi.js';

export * from './AuditApi.js';

import { AuthApi, AuthApiMappingImpl, AuthProducerApi, AuthApiHttpImpl, wrapAuthProducer } from './AuthApi.js';

export * from './AuthApi.js';

import { CredentialApi, CredentialApiMappingImpl, CredentialProducerApi, CredentialApiHttpImpl, wrapCredentialProducer } from './CredentialApi.js';

export * from './CredentialApi.js';

import { EntryApi, EntryApiMappingImpl, EntryProducerApi, EntryApiHttpImpl, wrapEntryProducer } from './EntryApi.js';

export * from './EntryApi.js';

import { GroupApi, GroupApiMappingImpl, GroupProducerApi, GroupApiHttpImpl, wrapGroupProducer } from './GroupApi.js';

export * from './GroupApi.js';

import { IdentityProviderApi, IdentityProviderApiMappingImpl, IdentityProviderProducerApi, IdentityProviderApiHttpImpl, wrapIdentityProviderProducer } from './IdentityProviderApi.js';

export * from './IdentityProviderApi.js';

import { RoleApi, RoleApiMappingImpl, RoleProducerApi, RoleApiHttpImpl, wrapRoleProducer } from './RoleApi.js';

export * from './RoleApi.js';

import { ScheduleApi, ScheduleApiMappingImpl, ScheduleProducerApi, ScheduleApiHttpImpl, wrapScheduleProducer } from './ScheduleApi.js';

export * from './ScheduleApi.js';

import { SiteApi, SiteApiMappingImpl, SiteProducerApi, SiteApiHttpImpl, wrapSiteProducer } from './SiteApi.js';

export * from './SiteApi.js';

import { UserApi, UserApiMappingImpl, UserProducerApi, UserApiHttpImpl, wrapUserProducer } from './UserApi.js';

export * from './UserApi.js';

import { ZoneApi, ZoneApiMappingImpl, ZoneProducerApi, ZoneApiHttpImpl, wrapZoneProducer } from './ZoneApi.js';

export * from './ZoneApi.js';

import { Semver } from '@zerobias-org/types-core-js';
export const VERSION = new Semver('1.0.24');

import { BaseApiClient, ConnectionProfile } from '@zerobias-org/util-api-client-base';
import { AxiosInstance } from 'axios';

// Re-export model types for convenience
export * from '../model/index.js';

// Re-export ConnectionProfile for consumers
export { ConnectionProfile } from '@zerobias-org/util-api-client-base';

/**
 * AvigilonAltaAccess API interface
 *
 * Defines the available API endpoints for this service.
 */
export interface AvigilonAltaAccess {
  getAuditApi(): AuditApi;
  getAuthApi(): AuthApi;
  getCredentialApi(): CredentialApi;
  getEntryApi(): EntryApi;
  getGroupApi(): GroupApi;
  getIdentityProviderApi(): IdentityProviderApi;
  getRoleApi(): RoleApi;
  getScheduleApi(): ScheduleApi;
  getSiteApi(): SiteApi;
  getUserApi(): UserApi;
  getZoneApi(): ZoneApi;
}

/**
 * AvigilonAltaAccess API Client
 *
 * Platform API client for direct HTTP access to the service.
 * Uses BaseApiClient for connection management, auth, and request pipeline.
 *
 * @example
 * ```typescript
 * const client = newAvigilonAltaAccess();
 * await client.connect({
 *   url: 'http://localhost:8080',
 *   apiKey: 'your-api-key',
 *   orgId: 'org-uuid'
 * });
 *
 * const result = await client.getSomeApi().someMethod();
 * ```
 */
/**
 * Base path for this SDK (from OpenAPI servers[0].url)
 * This path is appended to the connection profile URL when connecting
 */
export const BASE_PATH = '';

export class AvigilonAltaAccessClient implements AvigilonAltaAccess {
  private baseClient: BaseApiClient;
  private client: AxiosInstance | null = null;
  private headers: { [key: string]: string } = {};

  constructor() {
    this.baseClient = new BaseApiClient(undefined, BASE_PATH);
  }

  /**
   * Connect to the service with connection profile
   */
  async connect(connectionProfile: ConnectionProfile): Promise<void> {
    await this.baseClient.connect(connectionProfile);

    // Get the AxiosInstance from BaseApiClient
    const axiosInstance = this.baseClient.httpClient();
    if (!axiosInstance) {
      throw new Error('Failed to initialize HTTP client');
    }
    this.client = axiosInstance;

    // Set up headers from connection profile for generated API classes
    if (connectionProfile.apiKey) {
      this.headers['Authorization'] = `APIKey ${connectionProfile.apiKey}`;
    }
    if (connectionProfile.jwt) {
      this.headers['Authorization'] = `Bearer ${connectionProfile.jwt}`;
    }
    if (connectionProfile.orgId) {
      // Handle orgId - convert to string if it's a UUID object
      const orgIdStr = typeof connectionProfile.orgId === 'string'
        ? connectionProfile.orgId
        : connectionProfile.orgId.toString();
      this.headers['dana-org-id'] = orgIdStr;
    }
  }

  /**
   * Disconnect from the service
   */
  async disconnect(): Promise<void> {
    return this.baseClient.disconnect();
  }

  /**
   * Check if connected to the service
   */
  isConnected(): boolean {
    return this.client !== null && this.baseClient.connectionProfile !== undefined;
  }

  /**
   * Enable or disable request inspection
   *
   * When enabled, all HTTP requests and responses are captured and can be
   * accessed via getRequestInspector(). Useful for debugging and testing.
   *
   * @param enabled - True to enable inspection, false to disable
   */
  enableRequestInspection(enabled: boolean): void {
    this.baseClient.enableDebug(enabled);
  }

  /**
   * Get request inspector instance
   *
   * Returns the RequestInspector for accessing captured HTTP requests/responses.
   * Returns undefined if inspection is not enabled.
   *
   * @returns RequestInspector instance or undefined
   */
  getRequestInspector() {
    return this.baseClient.getRequestInspector();
  }

  // Implement AvigilonAltaAccess interface methods
  getAuditApi(): AuditApi {
    if (!this.client) throw new Error('Not connected');
    return wrapAuditProducer(new AuditApiHttpImpl(this.client, this.headers));
  }

  getAuthApi(): AuthApi {
    if (!this.client) throw new Error('Not connected');
    return wrapAuthProducer(new AuthApiHttpImpl(this.client, this.headers));
  }

  getCredentialApi(): CredentialApi {
    if (!this.client) throw new Error('Not connected');
    return wrapCredentialProducer(new CredentialApiHttpImpl(this.client, this.headers));
  }

  getEntryApi(): EntryApi {
    if (!this.client) throw new Error('Not connected');
    return wrapEntryProducer(new EntryApiHttpImpl(this.client, this.headers));
  }

  getGroupApi(): GroupApi {
    if (!this.client) throw new Error('Not connected');
    return wrapGroupProducer(new GroupApiHttpImpl(this.client, this.headers));
  }

  getIdentityProviderApi(): IdentityProviderApi {
    if (!this.client) throw new Error('Not connected');
    return wrapIdentityProviderProducer(new IdentityProviderApiHttpImpl(this.client, this.headers));
  }

  getRoleApi(): RoleApi {
    if (!this.client) throw new Error('Not connected');
    return wrapRoleProducer(new RoleApiHttpImpl(this.client, this.headers));
  }

  getScheduleApi(): ScheduleApi {
    if (!this.client) throw new Error('Not connected');
    return wrapScheduleProducer(new ScheduleApiHttpImpl(this.client, this.headers));
  }

  getSiteApi(): SiteApi {
    if (!this.client) throw new Error('Not connected');
    return wrapSiteProducer(new SiteApiHttpImpl(this.client, this.headers));
  }

  getUserApi(): UserApi {
    if (!this.client) throw new Error('Not connected');
    return wrapUserProducer(new UserApiHttpImpl(this.client, this.headers));
  }

  getZoneApi(): ZoneApi {
    if (!this.client) throw new Error('Not connected');
    return wrapZoneProducer(new ZoneApiHttpImpl(this.client, this.headers));
  }

}

/**
 * Create a new AvigilonAltaAccess API client instance
 *
 * @example
 * ```typescript
 * import { newAvigilonAltaAccess } from 'sdk';
 *
 * const client = newAvigilonAltaAccess();
 * await client.connect({
 *   url: 'http://localhost:8080',
 *   apiKey: 'your-api-key',
 *   orgId: 'org-uuid'
 * });
 *
 * const result = await client.getSomeApi().someMethod();
 * ```
 */
export function newAvigilonAltaAccess(): AvigilonAltaAccessClient {
  return new AvigilonAltaAccessClient();
}
